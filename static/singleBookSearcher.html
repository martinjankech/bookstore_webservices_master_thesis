<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://code.jquery.com/jquery-3.6.1.js" integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI="
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js"
    integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"
    integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
    crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css"
    integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link rel="stylesheet" href="css/footer.css">
  <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script> -->
  <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"
    integrity="sha256-lSjKY0/srUM9BE3dPm+c4fBo1dky2v27Gdjm2uoZaL0=" crossorigin="anonymous"></script>
  <!-- jqury kniznica na obmedzenie maximalneho poctu poloziek v autocomplete  -->
  <script src="js/jquery.ui.autocomplete.scroll.min.js"></script>
  <link href="//cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.2/jquery-ui.css" rel="stylesheet" />
  <script src="js/app.js"></script>
  <title>Nájdi knihu</title>
</head>

<body>
  <div id="navbar">

  </div>
  <div id="alerts">
    <div style="display: none;" id="alert_container">
      <div class="alert" role="alert">
        <span id="alert-text"></span>
      </div>
    </div>
  </div>
  <div class="flex-wrapper">
    <!-- <div w3-include-html="navbar.html"></div> -->
    <div class="container ">
      <!-- <form class="mt-5" method="POST"> -->
      <h2 class="mt-4">Hľadať podľa :</h2>
      <div class="form-check">
        <input class="form-check-input1" type="radio" name="exampleRadios" id="id_checkbox" value="option1">
        <label class="form-check-label" for="exampleRadios1">
          Id knihy
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input2" type="radio" name="exampleRadios" id="name_checkbox" value="option2">
        <label class="form-check-label" for="exampleRadios2">
          Nazov knihy
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input2" type="radio" name="exampleRadios" id="isbn_checkbox" value="option2">
        <label class="form-check-label" for="exampleRadios2">
          ISBN
        </label>
      </div>
      <div id="input_place" class="col">
      </div>
      <div class="card mt-4 ">
        <div class="card-body" id="move">
          <h3 id="nazov_hore" class="card-title">Book Name</h3>
          <h6 id="autori_hore" class="card-subtitle">Book Authors</h6>
          <div class="row ">
            <div class="col-lg-6 col-md-8 col-sm-12 col-12 ">
              <div class=" img-responsive"><img id="obrazok" src="https://via.placeholder.com/430x600/00CED1/000000">
              </div>
            </div>
            <div class="col-lg-6 col-md-4 col-sm-12 col-12">
              <h4 class="box-title ">Obsah knihy</h4>
              <p id="obsah"></p>
              <h2 id="cena_hl" class="mt-2">
              </h2>
              <h3 class="box-title mt-5">údaje o knihe</h3>
              <ul class="list-unstyled">
                <li><i class="fa fa-check text-success"></i>nazov: <span id="nazov"></span></li>
                <li><i class="fa fa-check text-success"></i>autori: <span id="autori"></span></li>
                <li><i class="fa fa-check text-success"></i>kategoria: <span id="kategoria"></span></li>
                <li><i class="fa fa-check text-success"></i>isbn: <span id="isbn"></span></li>
                <li><i class="fa fa-check text-success"></i>jazyk: <span id="jazyk"></span></li>
                <li><i class="fa fa-check text-success"></i>vazba: <span id="vazba"></span></li>
                <li><i class="fa fa-check text-success"></i>pocet stran: <span id="pocet_stran"></span></li>
                <li><i class="fa fa-check text-success"></i>rok vydania: <span id="rok_vydania"></span></li>
                <li><i class="fa fa-check text-success"></i>vydavateľstvo: <span id="vydavatelstvo"></span>
                </li>
                <li><i class="fa fa-check text-success"></i>predajna cena: <span id="predajna_cena"></span>
                </li>
                <li><i class="fa fa-check text-success"></i>nakupna cena: <span id="nakupna_cena"></span></li>
                <li><i class="fa fa-check text-success"></i>marza: <span id="marza"></span></li>
                <li><i class="fa fa-check text-success"></i>zisk kus: <span id="zisk_kus"></span></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <footer>
  </footer>

</body>

<script>
  //alert(appPort)
  // na vytvori input pre formular na zaklade toho ktorý checkbox si vyberie pouzivatel 
  $(function () {
    $("#id_checkbox").click(function () {
      if ($(this).is(":checked")) {
        $("#input_place").html("<form id=\"formid\" class=\"mt-5\" method=\"POST\">" +
          " <div class=\"form-row mt-1\">" +

          " <label for=\"inputEmail\">ID knihy</label>" +
          "<input type=\"text\" class=\"form-control \" id=\"id_input\" placeholder=\"ID knihy\" name=\"id\">" +
          " </div>" +
          " </div>" +
          " <button type=\"submit\" class=\"btn btn-primary  mt-2\">Najdi Knihu</button>" +
          "</form>")
      }
    })
  });
  $(function () {
    $("#name_checkbox").click(function () {
      if ($(this).is(":checked")) {
        $("#input_place").html("<form id=\"formname\" class=\"mt-5\" method=\"POST\">" +
          " <div class=\"form-row mt-1\">" +

          " <label for=\"inputEmail\">Nazov knihy</label>" +
          "<input type=\"text\" class=\"form-control\" id=\"name_input\" placeholder=\"nazov knihy\" name=\"name\">" +
          " </div>" +
          " </div>" +
          " <button type=\"submit\" class=\"btn btn-primary  mt-2\">Najdi Knihu</button>" +
          "</form>")
      }
    })
  });
  $(function () {
    $("#isbn_checkbox").click(function () {
      if ($(this).is(":checked")) {
        $("#input_place").html("<form  id=\"formisbn\" class=\"mt-5\" method=\"POST\">" +
          " <div class=\"form-row mt-1\">" +

          " <label for=\"inputEmail\">ISBN knihy</label>" +
          "<input type=\"text\" class=\"form-control\" id=\"isbn_input\" placeholder=\"ISBN\" name=\"isbn\">" +
          " </div>" +
          " </div>" +
          " <button type=\"submit\" class=\"btn btn-primary  mt-2\">Najdi Knihu</button>" +
          "</form>")
      }
    })
  });
  ajaxSingleBookForm("#formid", "http://localhost:" + appPort + "/book_services.asmx/SinglebookDataById", "id", "id_input")
  ajaxSingleBookForm("#formname", "http://localhost:" + appPort + "/book_services.asmx/SinglebookDataByName", "name", "name_input")
  ajaxSingleBookForm("#formisbn", "http://localhost:" + appPort + "/book_services.asmx/SinglebookDataByIsbn", "isbn", "isbn_input")


  // naplnenie pola bookNamesArray s menami vsetkych knih ziskanych zo strany servera
  let bookNamesArray = []
  let bookIdArray = []
  let bookIsbnArray = []
  let attributename = "nazov"
  let atributeid = "id"
  let atributeisbn = "isbn"
  let nameInputId = '#name_input'
  let isbnInputId = '#isbn_input'
  let idInputId = '#id_input'
  // createArrayFromOneAttribute(attributename, bookNamesArray)
  // createArrayFromOneAttribute(atributeid, bookIdArray)
  // createArrayFromOneAttribute(atributeisbn, bookIsbnArray)
  createArrayFromOneAttribute1(attributename).then(resolve => { autoCompleteInput(nameInputId, 5, resolve); })
  createArrayFromOneAttribute1(atributeid).then(resolve => { autoCompleteInput(idInputId, 5, resolve); })
  createArrayFromOneAttribute1(atributeisbn).then(resolve => { autoCompleteInput(isbnInputId, 5, resolve); })

  // autoCompleteInput(nameInputId, 5, bookNamesArray)
  // autoCompleteInput(isbnInputId, 5, bookIsbnArray)
  // autoCompleteInput(idInputId, 5, bookIdArray)
  $(".card-body").hide();
  $("#navbar").load("navbar.html")
  $("footer").load("footer.html")
  //fixedFooter()
</script>

</html>